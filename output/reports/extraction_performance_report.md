# 财务数据提取性能对比报告

生成时间: 2025-08-06 18:25

## 一、执行摘要

通过对香港虚拟银行财务报告的提取系统优化，我们实现了显著的性能提升：

### 关键成果
- **营业收入提取率**: 从50%提升到75% (+25%)
- **净利润提取率**: 从12.5%提升到50% (+37.5%)
- **完整提取率**: 从12.5%提升到37.5% (+25%)
- **总资产/负债提取率**: 保持在50%（需要进一步优化）

## 二、测试方法

### 2.1 测试样本
- 测试文件数: 8个有效PDF文件
- 覆盖银行: 众安银行、Livi银行、Airstar银行、Fusion银行、WeLab银行、平安壹账通银行等
- 文件类型: 年度财报PDF

### 2.2 提取器对比
1. **基础提取器**: 使用基本正则表达式
2. **增强提取器**: 扩展的正则模式库 + 智能匹配
3. **LLM增强提取器**: 增强提取 + DeepSeek API（当正则失败时）

## 三、详细性能对比

### 3.1 字段提取率对比

| 提取器 | 总资产 | 总负债 | 营业收入 | 净利润 | 完整率 |
|--------|--------|--------|----------|--------|--------|
| 基础提取 | 50.0% | 50.0% | 50.0% | 12.5% | 12.5% |
| 增强提取 | 50.0% | 50.0% | 75.0% | 50.0% | 37.5% |
| LLM增强 | 50.0% | 50.0% | 75.0% | 50.0% | 37.5% |

### 3.2 具体案例分析

#### 成功案例
1. **Livi_Bank_2023**: 
   - 基础提取: 2个字段（缺少收入和利润）
   - 增强提取: 4个字段（完整提取）
   - 改进原因: 增强的收入识别模式（利息收入+手续费收入）

2. **Airstarbank_2019**:
   - 基础提取: 3个字段（缺少负债）
   - 增强提取: 4个字段（完整提取）
   - 改进原因: 更好的负债识别模式

#### 待改进案例
1. **Fusion_Bank_2021**:
   - 所有提取器都只能提取1个字段
   - 问题: 特殊的PDF格式，需要表格提取优化

2. **WeLab_Bank_2021**:
   - 所有提取器都失败
   - 问题: 可能是扫描版PDF，需要OCR

### 3.3 处理速度对比

| 提取器 | 平均耗时 | 相对基础 |
|--------|----------|----------|
| 基础提取 | 2.0秒 | 1.0x |
| 增强提取 | 2.3秒 | 1.15x |
| LLM增强 | 3.2秒 | 1.6x |

## 四、技术改进分析

### 4.1 增强正则表达式的改进

1. **收入识别扩展**
   ```python
   # 基础版只识别"营业收入"
   # 增强版识别:
   - 利息收入 (Interest Income)
   - 净利息收入 (Net Interest Income)
   - 手续费及佣金收入 (Fee Income)
   - 非利息收入 (Non-interest Income)
   - 总收入 (Total Income/Revenue)
   ```

2. **净利润识别改进**
   ```python
   # 增强版新增:
   - 负数识别: (123,456) = -123,456
   - 亏损识别: "净亏损"自动转为负数
   - 综合收益识别
   ```

### 4.2 LLM增强效果分析

在测试中，LLM增强主要在以下情况发挥作用：
- 复杂表格布局
- 非标准财务术语
- 需要上下文理解的数据

但在当前测试中，由于增强正则已经很强大，LLM的额外贡献有限。

## 五、问题与挑战

### 5.1 当前问题

1. **总资产/负债提取率停滞在50%**
   - 原因: 部分银行使用非标准格式
   - 解决方案: 需要增加更多银行特定模板

2. **扫描版PDF无法处理**
   - 影响文件: WeLab_Bank_2021等
   - 解决方案: 集成OCR功能

3. **特殊格式PDF**
   - 影响文件: Fusion_Bank_2021
   - 解决方案: 优化表格提取算法

### 5.2 下一步优化方向

1. **短期（1周）**
   - 启用OCR处理扫描版PDF
   - 创建银行特定模板
   - 优化表格提取

2. **中期（1个月）**
   - 机器学习模型训练
   - 自动模板生成
   - 实时反馈系统

## 六、结论

通过优化，我们实现了：
- **营业收入**和**净利润**提取率的显著提升
- **完整提取率**从12.5%提升到37.5%
- 保持了合理的处理速度

但仍需要进一步工作来：
- 提升总资产/负债的提取率
- 处理扫描版PDF
- 优化特殊格式的处理

预计通过实施建议的优化措施，可以将整体完整提取率提升到60%以上。

---

*基于2025年8月6日的实际测试数据*